/*
gmiller@gregmiller.net 2024
https://www.celestialprogramming.com/
Released as public domain

Converts time zone to UTC offset using an image generated from the
shapefiles from https://github.com/evansiroky/timezone-boundary-builder

Only accurate to about 6 miles at the equator, and offsets are valid
only for April 8 2024.
*/

const tzoffsetlist={"Africa/Abidjan": 0, "Africa/Accra": 0, "Africa/Addis_Ababa": 10800, "Africa/Algiers": 3600, "Africa/Asmara": 10800, "Africa/Bamako": 0, "Africa/Bangui": 3600, "Africa/Banjul": 0, "Africa/Bissau": 0, "Africa/Blantyre": 7200, "Africa/Brazzaville": 3600, "Africa/Bujumbura": 7200, "Africa/Cairo": 7200, "Africa/Casablanca": 0, "Africa/Ceuta": 7200, "Africa/Conakry": 0, "Africa/Dakar": 0, "Africa/Dar_es_Salaam": 10800, "Africa/Djibouti": 10800, "Africa/Douala": 3600, "Africa/El_Aaiun": 0, "Africa/Freetown": 0, "Africa/Gaborone": 7200, "Africa/Harare": 7200, "Africa/Johannesburg": 7200, "Africa/Juba": 7200, "Africa/Kampala": 10800, "Africa/Khartoum": 7200, "Africa/Kigali": 7200, "Africa/Kinshasa": 3600, "Africa/Lagos": 3600, "Africa/Libreville": 3600, "Africa/Lome": 0, "Africa/Luanda": 3600, "Africa/Lubumbashi": 7200, "Africa/Lusaka": 7200, "Africa/Malabo": 3600, "Africa/Maputo": 7200, "Africa/Maseru": 7200, "Africa/Mbabane": 7200, "Africa/Mogadishu": 10800, "Africa/Monrovia": 0, "Africa/Nairobi": 10800, "Africa/Ndjamena": 3600, "Africa/Niamey": 3600, "Africa/Nouakchott": 0, "Africa/Ouagadougou": 0, "Africa/Porto-Novo": 3600, "Africa/Sao_Tome": 0, "Africa/Tripoli": 7200, "Africa/Tunis": 3600, "Africa/Windhoek": 7200, "America/Adak": -32400, "America/Anchorage": -28800, "America/Anguilla": -14400, "America/Antigua": -14400, "America/Araguaina": -10800, "America/Argentina/Buenos_Aires": -10800, "America/Argentina/Catamarca": -10800, "America/Argentina/Cordoba": -10800, "America/Argentina/Jujuy": -10800, "America/Argentina/La_Rioja": -10800, "America/Argentina/Mendoza": -10800, "America/Argentina/Rio_Gallegos": -10800, "America/Argentina/Salta": -10800, "America/Argentina/San_Juan": -10800, "America/Argentina/San_Luis": -10800, "America/Argentina/Tucuman": -10800, "America/Argentina/Ushuaia": -10800, "America/Aruba": -14400, "America/Asuncion": -14400, "America/Atikokan": -18000, "America/Bahia_Banderas": -21600, "America/Bahia": -10800, "America/Barbados": -14400, "America/Belem": -10800, "America/Belize": -21600, "America/Blanc-Sablon": -14400, "America/Boa_Vista": -14400, "America/Bogota": -18000, "America/Boise": -21600, "America/Cambridge_Bay": -21600, "America/Campo_Grande": -14400, "America/Cancun": -18000, "America/Caracas": -14400, "America/Cayenne": -10800, "America/Cayman": -18000, "America/Chicago": -18000, "America/Chihuahua": -21600, "America/Ciudad_Juarez": -21600, "America/Costa_Rica": -21600, "America/Creston": -25200, "America/Cuiaba": -14400, "America/Curacao": -14400, "America/Danmarkshavn": 0, "America/Dawson": -25200, "America/Dawson_Creek": -25200, "America/Denver": -21600, "America/Detroit": -14400, "America/Dominica": -14400, "America/Edmonton": -21600, "America/Eirunepe": -18000, "America/El_Salvador": -21600, "America/Fortaleza": -10800, "America/Fort_Nelson": -25200, "America/Glace_Bay": -10800, "America/Goose_Bay": -10800, "America/Grand_Turk": -14400, "America/Grenada": -14400, "America/Guadeloupe": -14400, "America/Guatemala": -21600, "America/Guayaquil": -18000, "America/Guyana": -14400, "America/Halifax": -10800, "America/Havana": -14400, "America/Hermosillo": -25200, "America/Indiana/Indianapolis": -14400, "America/Indiana/Knox": -18000, "America/Indiana/Marengo": -14400, "America/Indiana/Petersburg": -14400, "America/Indiana/Tell_City": -18000, "America/Indiana/Vevay": -14400, "America/Indiana/Vincennes": -14400, "America/Indiana/Winamac": -14400, "America/Inuvik": -21600, "America/Iqaluit": -14400, "America/Jamaica": -18000, "America/Juneau": -28800, "America/Kentucky/Louisville": -14400, "America/Kentucky/Monticello": -14400, "America/Kralendijk": -14400, "America/La_Paz": -14400, "America/Lima": -18000, "America/Los_Angeles": -25200, "America/Lower_Princes": -14400, "America/Maceio": -10800, "America/Managua": -21600, "America/Manaus": -14400, "America/Marigot": -14400, "America/Martinique": -14400, "America/Matamoros": -18000, "America/Mazatlan": -25200, "America/Menominee": -18000, "America/Merida": -21600, "America/Metlakatla": -28800, "America/Mexico_City": -21600, "America/Miquelon": -7200, "America/Moncton": -10800, "America/Monterrey": -21600, "America/Montevideo": -10800, "America/Montserrat": -14400, "America/Nassau": -14400, "America/New_York": -14400, "America/Nome": -28800, "America/Noronha": -7200, "America/North_Dakota/Beulah": -18000, "America/North_Dakota/Center": -18000, "America/North_Dakota/New_Salem": -18000, "America/Nuuk": -3600, "America/Ojinaga": -18000, "America/Panama": -18000, "America/Paramaribo": -10800, "America/Phoenix": -25200, "America/Port-au-Prince": -14400, "America/Port_of_Spain": -14400, "America/Porto_Velho": -14400, "America/Puerto_Rico": -14400, "America/Punta_Arenas": -10800, "America/Rankin_Inlet": -18000, "America/Recife": -10800, "America/Regina": -21600, "America/Resolute": -18000, "America/Rio_Branco": -18000, "America/Santarem": -10800, "America/Santiago": -14400, "America/Santo_Domingo": -14400, "America/Sao_Paulo": -10800, "America/Scoresbysund": -3600, "America/Sitka": -28800, "America/St_Barthelemy": -14400, "America/St_Johns": -9000, "America/St_Kitts": -14400, "America/St_Lucia": -14400, "America/St_Thomas": -14400, "America/St_Vincent": -14400, "America/Swift_Current": -21600, "America/Tegucigalpa": -21600, "America/Thule": -10800, "America/Tijuana": -25200, "America/Toronto": -14400, "America/Tortola": -14400, "America/Vancouver": -25200, "America/Whitehorse": -25200, "America/Winnipeg": -18000, "America/Yakutat": -28800, "Antarctica/Casey": 28800, "Antarctica/Davis": 25200, "Antarctica/DumontDUrville": 36000, "Antarctica/Macquarie": 36000, "Antarctica/Mawson": 18000, "Antarctica/McMurdo": 43200, "Antarctica/Palmer": -10800, "Antarctica/Rothera": -10800, "Antarctica/Syowa": 10800, "Antarctica/Troll": 7200, "Antarctica/Vostok": 18000, "Arctic/Longyearbyen": 7200, "Asia/Aden": 10800, "Asia/Almaty": 18000, "Asia/Amman": 10800, "Asia/Anadyr": 43200, "Asia/Aqtau": 18000, "Asia/Aqtobe": 18000, "Asia/Ashgabat": 18000, "Asia/Atyrau": 18000, "Asia/Baghdad": 10800, "Asia/Bahrain": 10800, "Asia/Baku": 14400, "Asia/Bangkok": 25200, "Asia/Barnaul": 25200, "Asia/Beirut": 10800, "Asia/Bishkek": 21600, "Asia/Brunei": 28800, "Asia/Chita": 32400, "Asia/Choibalsan": 28800, "Asia/Colombo": 19800, "Asia/Damascus": 10800, "Asia/Dhaka": 21600, "Asia/Dili": 32400, "Asia/Dubai": 14400, "Asia/Dushanbe": 18000, "Asia/Famagusta": 10800, "Asia/Gaza": 7200, "Asia/Hebron": 7200, "Asia/Ho_Chi_Minh": 25200, "Asia/Hong_Kong": 28800, "Asia/Hovd": 25200, "Asia/Irkutsk": 28800, "Asia/Jakarta": 25200, "Asia/Jayapura": 32400, "Asia/Jerusalem": 10800, "Asia/Kabul": 16200, "Asia/Kamchatka": 43200, "Asia/Karachi": 18000, "Asia/Kathmandu": 20700, "Asia/Khandyga": 32400, "Asia/Kolkata": 19800, "Asia/Krasnoyarsk": 25200, "Asia/Kuala_Lumpur": 28800, "Asia/Kuching": 28800, "Asia/Kuwait": 10800, "Asia/Macau": 28800, "Asia/Magadan": 39600, "Asia/Makassar": 28800, "Asia/Manila": 28800, "Asia/Muscat": 14400, "Asia/Nicosia": 10800, "Asia/Novokuznetsk": 25200, "Asia/Novosibirsk": 25200, "Asia/Omsk": 21600, "Asia/Oral": 18000, "Asia/Phnom_Penh": 25200, "Asia/Pontianak": 25200, "Asia/Pyongyang": 32400, "Asia/Qatar": 10800, "Asia/Qostanay": 18000, "Asia/Qyzylorda": 18000, "Asia/Riyadh": 10800, "Asia/Sakhalin": 39600, "Asia/Samarkand": 18000, "Asia/Seoul": 32400, "Asia/Shanghai": 28800, "Asia/Singapore": 28800, "Asia/Srednekolymsk": 39600, "Asia/Taipei": 28800, "Asia/Tashkent": 18000, "Asia/Tbilisi": 14400, "Asia/Tehran": 12600, "Asia/Thimphu": 21600, "Asia/Tokyo": 32400, "Asia/Tomsk": 25200, "Asia/Ulaanbaatar": 28800, "Asia/Urumqi": 21600, "Asia/Ust-Nera": 36000, "Asia/Vientiane": 25200, "Asia/Vladivostok": 36000, "Asia/Yakutsk": 32400, "Asia/Yangon": 23400, "Asia/Yekaterinburg": 18000, "Asia/Yerevan": 14400, "Atlantic/Azores": 0, "Atlantic/Bermuda": -10800, "Atlantic/Canary": 3600, "Atlantic/Cape_Verde": -3600, "Atlantic/Faroe": 3600, "Atlantic/Madeira": 3600, "Atlantic/Reykjavik": 0, "Atlantic/South_Georgia": -7200, "Atlantic/Stanley": -10800, "Atlantic/St_Helena": 0, "Australia/Adelaide": 34200, "Australia/Brisbane": 36000, "Australia/Broken_Hill": 34200, "Australia/Darwin": 34200, "Australia/Eucla": 31500, "Australia/Hobart": 36000, "Australia/Lindeman": 36000, "Australia/Lord_Howe": 37800, "Australia/Melbourne": 36000, "Australia/Perth": 28800, "Australia/Sydney": 36000, "Europe/Amsterdam": 7200, "Europe/Andorra": 7200, "Europe/Astrakhan": 14400, "Europe/Athens": 10800, "Europe/Belgrade": 7200, "Europe/Berlin": 7200, "Europe/Bratislava": 7200, "Europe/Brussels": 7200, "Europe/Bucharest": 10800, "Europe/Budapest": 7200, "Europe/Busingen": 7200, "Europe/Chisinau": 10800, "Europe/Copenhagen": 7200, "Europe/Dublin": 3600, "Europe/Gibraltar": 7200, "Europe/Guernsey": 3600, "Europe/Helsinki": 10800, "Europe/Isle_of_Man": 3600, "Europe/Istanbul": 10800, "Europe/Jersey": 3600, "Europe/Kaliningrad": 7200, "Europe/Kirov": 10800, "Europe/Kyiv": 10800, "Europe/Lisbon": 3600, "Europe/Ljubljana": 7200, "Europe/London": 3600, "Europe/Luxembourg": 7200, "Europe/Madrid": 7200, "Europe/Malta": 7200, "Europe/Mariehamn": 10800, "Europe/Minsk": 10800, "Europe/Monaco": 7200, "Europe/Moscow": 10800, "Europe/Oslo": 7200, "Europe/Paris": 7200, "Europe/Podgorica": 7200, "Europe/Prague": 7200, "Europe/Riga": 10800, "Europe/Rome": 7200, "Europe/Samara": 14400, "Europe/San_Marino": 7200, "Europe/Sarajevo": 7200, "Europe/Saratov": 14400, "Europe/Simferopol": 10800, "Europe/Skopje": 7200, "Europe/Sofia": 10800, "Europe/Stockholm": 7200, "Europe/Tallinn": 10800, "Europe/Tirane": 7200, "Europe/Ulyanovsk": 14400, "Europe/Vaduz": 7200, "Europe/Vatican": 7200, "Europe/Vienna": 7200, "Europe/Vilnius": 10800, "Europe/Volgograd": 10800, "Europe/Warsaw": 7200, "Europe/Zagreb": 7200, "Europe/Zurich": 7200, "Indian/Antananarivo": 10800, "Indian/Chagos": 21600, "Indian/Christmas": 25200, "Indian/Cocos": 23400, "Indian/Comoro": 10800, "Indian/Kerguelen": 18000, "Indian/Mahe": 14400, "Indian/Maldives": 18000, "Indian/Mauritius": 14400, "Indian/Mayotte": 10800, "Indian/Reunion": 14400, "Pacific/Apia": 46800, "Pacific/Auckland": 43200, "Pacific/Bougainville": 39600, "Pacific/Chatham": 45900, "Pacific/Chuuk": 36000, "Pacific/Easter": -21600, "Pacific/Efate": 39600, "Pacific/Fakaofo": 46800, "Pacific/Fiji": 43200, "Pacific/Funafuti": 43200, "Pacific/Galapagos": -21600, "Pacific/Gambier": -32400, "Pacific/Guadalcanal": 39600, "Pacific/Guam": 36000, "Pacific/Honolulu": -36000, "Pacific/Kanton": 46800, "Pacific/Kiritimati": 50400, "Pacific/Kosrae": 39600, "Pacific/Kwajalein": 43200, "Pacific/Majuro": 43200, "Pacific/Marquesas": -34200, "Pacific/Midway": -39600, "Pacific/Nauru": 43200, "Pacific/Niue": -39600, "Pacific/Norfolk": 39600, "Pacific/Noumea": 39600, "Pacific/Pago_Pago": -39600, "Pacific/Palau": 32400, "Pacific/Pitcairn": -28800, "Pacific/Pohnpei": 39600, "Pacific/Port_Moresby": 36000, "Pacific/Rarotonga": -36000, "Pacific/Saipan": 36000, "Pacific/Tahiti": -36000, "Pacific/Tarawa": 43200, "Pacific/Tongatapu": 46800, "Pacific/Wake": 43200,
"Etc/GMT-12": 12*60*60,
"Etc/GMT-11": 11*60*60,
"Etc/GMT-10": 10*60*60,
"Etc/GMT-9": 9*60*60,
"Etc/GMT-8": 8*60*60,
"Etc/GMT-7": 7*60*60,
"Etc/GMT-6": 6*60*60,
"Etc/GMT-5": 5*60*60,
"Etc/GMT-4": 4*60*60,
"Etc/GMT-3": 3*60*60,
"Etc/GMT-2": 2*60*60,
"Etc/GMT-1": 1*60*60,
"Etc/GMT": 0*60*60,
"Etc/GMT+1": -1*60*60,
"Etc/GMT+2": -2*60*60,
"Etc/GMT+3": -3*60*60,
"Etc/GMT+4": -4*60*60,
"Etc/GMT+5": -5*60*60,
"Etc/GMT+6": -6*60*60,
"Etc/GMT+7": -7*60*60,
"Etc/GMT+8": -8*60*60,
"Etc/GMT+9": -9*60*60,
"Etc/GMT+10": -10*60*60,
"Etc/GMT+11": -11*60*60,
"Etc/GMT+12": -12*60*60
}

export class TimeZoneMap{
    tzcolormap=[["Africa/Abidjan","Africa/Accra","Africa/Addis_Ababa","Africa/Algiers","Africa/Asmara","Africa/Bamako","Africa/Bangui","Africa/Banjul","Africa/Bissau","Africa/Blantyre","Africa/Brazzaville","Africa/Bujumbura","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/Conakry","Africa/Dakar","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Douala","Africa/El_Aaiun","Africa/Freetown","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Kigali","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Lome","Africa/Luanda","Africa/Lubumbashi","Africa/Lusaka","Africa/Malabo","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Africa/Mogadishu","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Niamey","Africa/Nouakchott","Africa/Ouagadougou","Africa/Porto-Novo","Africa/Sao_Tome","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Adak","America/Anchorage","America/Anguilla","America/Antigua","America/Aruba","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Asuncion","America/Atikokan","America/Bahia","America/Bahia_Banderas","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Cayenne","America/Cayman","America/Chicago","America/Chihuahua","America/Ciudad_Juarez","America/Costa_Rica","America/Creston","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Dominica","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Fort_Nelson","America/Fortaleza","America/Glace_Bay","America/Goose_Bay","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Inuvik","America/Iqaluit","America/Jamaica","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/Kralendijk","America/La_Paz","America/Lima","America/Los_Angeles","America/Lower_Princes","America/Maceio","America/Managua","America/Manaus","America/Marigot","America/Martinique","America/Matamoros","America/Mazatlan","America/Miquelon","America/Menominee","America/Merida","America/Metlakatla","America/Mexico_City","America/Moncton","America/Monterrey","America/Montevideo","America/Montserrat","America/Nassau","America/New_York","America/Nome","America/Noronha","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Nuuk","America/Ojinaga","America/Panama","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Punta_Arenas","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Sitka","America/St_Barthelemy","America/St_Johns","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Tijuana","America/Toronto","America/Tortola","America/Vancouver","America/Whitehorse","America/Winnipeg","America/Yakutat","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/McMurdo","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","Arctic/Longyearbyen","Asia/Aden","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Atyrau","Asia/Baghdad","Asia/Bahrain","Asia/Baku","Asia/Bangkok","Asia/Barnaul","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Chita","Asia/Choibalsan","Asia/Colombo","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Famagusta","Asia/Gaza","Asia/Hebron","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kathmandu","Asia/Khandyga","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Kuwait","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Muscat"],["Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Phnom_Penh","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qostanay","Asia/Qyzylorda","Asia/Riyadh","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Thimphu","Asia/Tokyo","Asia/Tomsk","Asia/Ulaanbaatar","Asia/Urumqi","Asia/Ust-Nera","Asia/Vientiane","Asia/Vladivostok","Asia/Yakutsk","Asia/Yangon","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faroe","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/St_Helena","Atlantic/Stanley","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/Lindeman","Australia/Lord_Howe","Australia/Melbourne","Australia/Perth","Australia/Sydney","Etc/UTC","Europe/Amsterdam","Europe/Andorra","Europe/Astrakhan","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Bratislava","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Busingen","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Guernsey","Europe/Helsinki","Europe/Isle_of_Man","Europe/Istanbul","Europe/Jersey","Europe/Kaliningrad","Europe/Kyiv","Europe/Kirov","Europe/Lisbon","Europe/Ljubljana","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Mariehamn","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Oslo","Europe/Paris","Europe/Podgorica","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/San_Marino","Europe/Sarajevo","Europe/Saratov","Europe/Simferopol","Europe/Skopje","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Ulyanovsk","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zagreb","Europe/Zurich","Indian/Antananarivo","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Comoro","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Mayotte","Indian/Reunion","Pacific/Apia","Pacific/Auckland","Pacific/Bougainville","Pacific/Chatham","Pacific/Chuuk","Pacific/Easter","Pacific/Efate","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Kanton","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Midway","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Pohnpei","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Saipan","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Wake","Pacific/Wallis","Etc/GMT-12","Etc/GMT-11","Etc/GMT-10","Etc/GMT-9","Etc/GMT-8","Etc/GMT-7","Etc/GMT-6","Etc/GMT-5","Etc/GMT-4","Etc/GMT-3","Etc/GMT-2","Etc/GMT-1","Etc/GMT","Etc/GMT+1","Etc/GMT+2","Etc/GMT+3","Etc/GMT+4","Etc/GMT+5","Etc/GMT+6","Etc/GMT+7","Etc/GMT+8","Etc/GMT+9","Etc/GMT+10","Etc/GMT+11","Etc/GMT+12"]];
    canvas;
    ctx;
    img;
    scale=10;
    initialized=false;

    constructor(){
        this.init();
    }

    init(){
        this.img=document.createElement("img");
        this.img.src="tzmap.png";
        this.img.addEventListener("load",this.init2.bind(this),false);
    }

    init2(){
        this.canvas=document.createElement("canvas");
        this.canvas.width=this.img.width;
        this.canvas.height=this.img.height;
        this.ctx=this.canvas.getContext("2d",{willReadFrequently:true});
        this.ctx.drawImage(this.img,0,0);
        this.initialized=true;
    }

    getTZFromLatLon(lat,lon){
        if(!this.initialized) return {id: "America/New_York", offset: -14400};
        const d=this.ctx.getImageData((lon+180)*this.scale,this.img.height-(lat+90)*this.scale,1,1).data;
        const tzid=this.tzcolormap[d[1]][d[0]];
        return {id: tzid, offset: tzoffsetlist[tzid]};
    }
}